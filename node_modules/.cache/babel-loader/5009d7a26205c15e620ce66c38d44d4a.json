{"ast":null,"code":"var _jsxFileName = \"/Users/anthonyghobind/ITP404/Assignments/assignment-6-ghobind/src/Member.js\";\nimport React, { useState } from \"react\";\nimport { fetchDetails, fetchRepos, updateFollowing } from \"./api\";\nimport \"./App.css\";\nimport DetailsModal from \"./DetailsModal\";\nimport ReposModal from \"./ReposModal\";\nexport default function Member({\n  members,\n  following,\n  isLoading,\n  setFollowing,\n  setIsLoading\n}) {\n  const [isDetailsModalShown, setIsDetailsModalShown] = useState(false);\n  const [isReposModalShown, setIsReposModalShown] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [details, setDetails] = useState();\n  const [repos, setRepos] = useState();\n\n  function showDetailsModal(name, url) {\n    setName(name);\n    fetchDetails(url).then(details => {\n      setDetails(details);\n      setIsDetailsModalShown(true);\n    });\n  }\n\n  function hideDetailsModal() {\n    setIsDetailsModalShown(false);\n  }\n\n  function showReposModal(name, url) {\n    setName(name);\n    fetchRepos(url).then(repos => {\n      setRepos(repos);\n      setIsReposModalShown(true);\n    });\n  }\n\n  function hideReposModal() {\n    setIsReposModalShown(false);\n  }\n\n  function changeFollowStatus(member) {\n    const data = following.find(mem => {\n      return mem.name === member.login;\n    });\n    console.log(data);\n    data.followStatus = !data.followStatus;\n    updateFollowing(data).then(() => {\n      setIsLoading(false);\n      const updated = following.map(mem => {\n        if (mem.name === member.login) {\n          return {\n            name: mem.name,\n            followStatus: data.followStatus,\n            id: mem.id\n          };\n        } else {\n          return mem;\n        }\n      });\n      setFollowing(updated);\n      setIsLoading(true);\n    });\n  }\n\n  function findFollowingMember(member) {\n    if (isLoading) {\n      const mem = following.find(element => {\n        return element.name === member.login;\n      });\n\n      if (mem === undefined) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 16\n          }\n        }, \"Follow\");\n      } else if (mem.followStatus === false) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 16\n          }\n        }, \"Follow\");\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 16\n          }\n        }, \"Unfollow\");\n      }\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 14\n        }\n      }, \"Follow\");\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, isDetailsModalShown && /*#__PURE__*/React.createElement(DetailsModal, {\n    onClose: hideDetailsModal,\n    name: name,\n    details: details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), isReposModalShown && /*#__PURE__*/React.createElement(ReposModal, {\n    onClose: hideReposModal,\n    name: name,\n    repos: repos,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), members.map((group, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-center mb-3\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, group.map(member => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md text-center\",\n        key: member.login,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: member.avatar_url,\n        alt: member.login,\n        width: \"70%\",\n        onClick: () => showDetailsModal(member.login, member.url),\n        id: \"member-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => showDetailsModal(member.login, member.url),\n        id: \"member-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 19\n        }\n      }, member.login), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn-toolbar justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-outline-info btn-sm mr-3\",\n        onClick: () => showReposModal(member.login, member.repos_url),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }\n      }, \"Repos\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-outline-primary btn-sm\",\n        onClick: () => changeFollowStatus(member),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }\n      }, findFollowingMember(member))));\n    }));\n  }));\n}","map":{"version":3,"sources":["/Users/anthonyghobind/ITP404/Assignments/assignment-6-ghobind/src/Member.js"],"names":["React","useState","fetchDetails","fetchRepos","updateFollowing","DetailsModal","ReposModal","Member","members","following","isLoading","setFollowing","setIsLoading","isDetailsModalShown","setIsDetailsModalShown","isReposModalShown","setIsReposModalShown","name","setName","details","setDetails","repos","setRepos","showDetailsModal","url","then","hideDetailsModal","showReposModal","hideReposModal","changeFollowStatus","member","data","find","mem","login","console","log","followStatus","updated","map","id","findFollowingMember","element","undefined","group","index","avatar_url","repos_url"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { fetchDetails, fetchRepos, updateFollowing } from \"./api\";\nimport \"./App.css\";\nimport DetailsModal from \"./DetailsModal\";\nimport ReposModal from \"./ReposModal\";\n\nexport default function Member({\n  members,\n  following,\n  isLoading,\n  setFollowing,\n  setIsLoading,\n}) {\n  const [isDetailsModalShown, setIsDetailsModalShown] = useState(false);\n  const [isReposModalShown, setIsReposModalShown] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [details, setDetails] = useState();\n  const [repos, setRepos] = useState();\n\n  function showDetailsModal(name, url) {\n    setName(name);\n    fetchDetails(url).then((details) => {\n      setDetails(details);\n      setIsDetailsModalShown(true);\n    });\n  }\n  function hideDetailsModal() {\n    setIsDetailsModalShown(false);\n  }\n  function showReposModal(name, url) {\n    setName(name);\n    fetchRepos(url).then((repos) => {\n      setRepos(repos);\n      setIsReposModalShown(true);\n    });\n  }\n  function hideReposModal() {\n    setIsReposModalShown(false);\n  }\n\n  function changeFollowStatus(member) {\n    const data = following.find((mem) => {\n      return mem.name === member.login;\n    });\n    console.log(data);\n    data.followStatus = !data.followStatus;\n    updateFollowing(data).then(() => {\n      setIsLoading(false);\n      const updated = following.map((mem) => {\n        if (mem.name === member.login) {\n          return {\n            name: mem.name,\n            followStatus: data.followStatus,\n            id: mem.id,\n          };\n        } else {\n          return mem;\n        }\n      });\n      setFollowing(updated);\n      setIsLoading(true);\n    });\n  }\n\n  function findFollowingMember(member) {\n    if (isLoading) {\n      const mem = following.find((element) => {\n        return element.name === member.login;\n      });\n      if (mem === undefined) {\n        return <div>Follow</div>;\n      } else if (mem.followStatus === false) {\n        return <div>Follow</div>;\n      } else {\n        return <div>Unfollow</div>;\n      }\n    } else {\n      return <div>Follow</div>;\n    }\n  }\n\n  return (\n    <div>\n      {isDetailsModalShown && (\n        <DetailsModal\n          onClose={hideDetailsModal}\n          name={name}\n          details={details}\n        />\n      )}\n      {isReposModalShown && (\n        <ReposModal onClose={hideReposModal} name={name} repos={repos} />\n      )}\n      {members.map((group, index) => {\n        return (\n          <div className=\"row justify-content-center mb-3\" key={index}>\n            {group.map((member) => {\n              return (\n                <div className=\"col-md text-center\" key={member.login}>\n                  <img\n                    src={member.avatar_url}\n                    alt={member.login}\n                    width=\"70%\"\n                    onClick={() => showDetailsModal(member.login, member.url)}\n                    id=\"member-img\"\n                  ></img>\n                  <div\n                    onClick={() => showDetailsModal(member.login, member.url)}\n                    id=\"member-name\"\n                  >\n                    {member.login}\n                  </div>\n                  <div className=\"btn-toolbar justify-content-center\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-outline-info btn-sm mr-3\"\n                      onClick={() =>\n                        showReposModal(member.login, member.repos_url)\n                      }\n                    >\n                      Repos\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-outline-primary btn-sm\"\n                      onClick={() => changeFollowStatus(member)}\n                    >\n                      {findFollowingMember(member)}\n                      {/* {followStatusList[index].followStatus === true && (\n                        <div>Unfollow</div>\n                      )}\n                      {followStatusList[index].followStatus === false && (\n                        <div>Follow</div>\n                      )} */}\n                    </button>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}